# 存储器
## 双端口RAM和多模块存储器
1. b
2. a
3. d
4. b
5. a
6. c
7. d
8. 
## Cache的基本工作原理
### 单选题
1. b
2. d
3. a
4. b
5. c
6. d
7. 
### 应用题
1. 写回法和写分配法配合
2. 全写法和写非分配法

2.
标记21位
组号5位
块内地址6位 
（1+21+5+1+6）*128

3.
2^28

第三题

1 

标记19位
行号3位
块内地址6位
有效位1

（1+19+6）*8

2  
a[0][31] 1000101000000
   1000100100000
   在第4行
   a[1][1] 
   1000101100000
   在第5行
   
3

每个cache行能存放64字节，也就是16个int类型整数
程序a在第一次未命中时加载a数组连续16个单元，并在随后访问
后面15个单元
命中率15/16

程序b在未命中时同样加载连续16个单元，但在访问一次之后，
直接访问后256个单元，所以空间局限性没有利用到，导致命中率一直为0

a程序执行时间更短

第四题

1. 主存容量：8KB，cache容量：256B
主存字地址位数：12位，cache字地址：7位

2. 
4位块内地址
8位标记
块号：5号
字地址：8位

3. 未命中
8h

第五题

1. 2^9行
组数：2^7
2. 有效位：1，脏位：1，替换控制位：2，标记：18位，组号：7位
3. 

第六题
1. cpu时钟周期： 1/(800*10^6) s=1.25ns，总线时钟周期：1/(200*10^6)=5ns，
总线带宽32/5ns=6.4*10^9bit/s=1600MB/s=1.6GB/s
2. 1个
3. 45ns
4. （100*4）*0.95+0.05*（1.25*5*100）=

第七题
1. A：19，B：19，C：11，D：13，E：9，F：9，G：6
B存放的是虚拟地址的高19位
组：2^9，组位9，组内地址：6位，标记：9位

2. 100000 000000 ，32号，00000000
3. 缺页处理的开销大，缺页需要从硬盘读取数据到内存
而Cache确实只需要从内存读取数据到cache
4. 应为cache容量小，直写时间短，而页面容量大直接时间长。

第8题

|  地址   | 14  |14  |
|  ----  | ----  | ----  |
| 0  | 14 |
| 1  | 0 |
| 2  | 0 |
| 3  | 0 |
| 4  | 0 |
| 5  | 0 |
| 6  | 0 |
| 7  | 0 |


